{"ast":null,"code":"var _jsxFileName = \"/home/brady/CSC424/CourseProject/CSC424CourseProject/client/src/components/ProtectedRoutes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProtectedRoute = async (component, ...rest) => {\n  _s();\n\n  const [loggedIn, setloggedIn] = useState(false);\n  await fetch('http://localhost:4000/checkIfloggedIn', {\n    method: 'GET',\n    origin: 'http:localhost:4000',\n    credentials: 'include'\n  }).then(res => res.json()).then(data => {\n    if (data.user) {\n      setloggedIn(true);\n    } else {\n      setloggedIn(false);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: props => {\n      if (loggedIn) {\n        return /*#__PURE__*/_jsxDEV(Component, { ...rest,\n          ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 27\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 28\n        }, this);\n      }\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProtectedRoute, \"FzAz9/cHR87K9Zjx3r59/yxLlvU=\");\n\n_c = ProtectedRoute;\nexport default ProtectedRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"sources":["/home/brady/CSC424/CourseProject/CSC424CourseProject/client/src/components/ProtectedRoutes.js"],"names":["React","useState","Redirect","Route","ProtectedRoute","component","rest","loggedIn","setloggedIn","fetch","method","origin","credentials","then","res","json","data","user","props"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,QAAT,EAAmBC,KAAnB,QAAgC,kBAAhC;;;AAGA,MAAMC,cAAc,GAAG,OAAOC,SAAP,EAAkB,GAAGC,IAArB,KAA6B;AAAA;;AAEhD,QAAM,CAACC,QAAD,EAAUC,WAAV,IAAyBP,QAAQ,CAAC,KAAD,CAAvC;AAEA,QAAMQ,KAAK,CAAC,uCAAD,EAA0C;AAEjDC,IAAAA,MAAM,EAAC,KAF0C;AAGjDC,IAAAA,MAAM,EAAE,qBAHyC;AAIjDC,IAAAA,WAAW,EAAE;AAJoC,GAA1C,CAAL,CAODC,IAPC,CAOIC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPX,EAQDF,IARC,CAQIG,IAAI,IAAI;AACV,QAAGA,IAAI,CAACC,IAAR,EAAa;AACVT,MAAAA,WAAW,CAAC,IAAD,CAAX;AACF,KAFD,MAEK;AACHA,MAAAA,WAAW,CAAC,KAAD,CAAX;AACD;AACJ,GAdC,CAAN;AAgBA,sBAEI,QAAC,KAAD,OAAWF,IAAX;AAAiB,IAAA,MAAM,EACnBY,KAAK,IAAG;AACJ,UAAGX,QAAH,EAAY;AACT,4BAAO,QAAC,SAAD,OAAcD,IAAd;AAAA,aAAuBY;AAAvB;AAAA;AAAA;AAAA;AAAA,gBAAP;AACF,OAFD,MAGI;AACA,4BAAO,QAAC,QAAD;AAAU,UAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBAAP;AACH;AACR;AARD;AAAA;AAAA;AAAA;AAAA,UAFJ;AAaH,CAjCD;;GAAMd,c;;KAAAA,c;AAkCN,eAAeA,cAAf","sourcesContent":["import React, { useState } from 'react'\nimport { Redirect, Route } from 'react-router-dom'\n\n\nconst ProtectedRoute = async (component, ...rest) =>{\n\n    const [loggedIn,setloggedIn] = useState(false)\n\n    await fetch('http://localhost:4000/checkIfloggedIn', {\n      \n        method:'GET',\n        origin: 'http:localhost:4000',\n        credentials: 'include'\n      \n      })\n        .then(res => res.json())\n        .then(data => {\n            if(data.user){\n               setloggedIn(true)\n            }else{\n              setloggedIn(false)\n            }\n        } )\n\n    return(\n\n        <Route {...rest} render= {\n            props =>{  \n                if(loggedIn){\n                   return <Component{...rest}{...props} />\n                }\n                else{\n                    return <Redirect to='/login'/>\n                }\n        }\n         } />\n    )\n}\nexport default ProtectedRoute;"]},"metadata":{},"sourceType":"module"}